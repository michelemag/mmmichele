<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Work – Michele Magaro</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-F9DGMGHMFF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-F9DGMGHMFF');
  </script>
</head>
<body class="subpage subpage-work">
  <!-- Blobs -->
  <div class="blob-left"></div>
  <div class="blob-right"></div>

  <!-- Floating Nav -->
  <nav class="floating-nav">
    <a href="index.html">home</a>
    <a href="about.html">about</a>
    <a href="work.html" class="active">work</a>
    <a href="contact.html">contact</a>
    <a href="https://mmmichele.bigcartel.com/" target="_blank" rel="noopener">shop</a>
  </nav>

  <!-- Content -->
  <main class="work-container">
    <h1>Work</h1>

    <!-- Filter buttons -->
    <div class="filters">
      <button type="button" class="filter-btn active" data-filter="all">All</button>
      <button type="button" class="filter-btn" data-filter="woodworking">Woodworking</button>
      <button type="button" class="filter-btn" data-filter="cyanotypes">Cyanotypes</button>
      <button type="button" class="filter-btn" data-filter="pottery">Pottery</button>
    </div>

    <!-- Gallery -->
    <div class="gallery">
      <figure data-tags="woodworking" class="clickable" data-title="Walnut Platters, 2025" data-description="These walnut platters were turned and finished in 2025. Each piece explores the grain patterns unique to the wood.">
        <img src="images/tomswalnut.jpeg" alt="Toms walnut" />
        <figcaption>Walnut Platters, 2025</figcaption>
      </figure>
      <figure data-tags="cyanotypes" class="clickable" data-title="Kelly on Portra Cyanotype, 2024" data-description="This cyanotype portrait was created on Portra paper in 2024, experimenting with light exposure and texture.">
        <img src="images/kellycyanotype2024.jpeg" alt="Kelly Cyanotype" />
        <figcaption>Kelly on Portra Cyanotype, 2024</figcaption>
      </figure>
      <figure data-tags="woodworking">
        <img src="images/allspaltedmaple.jpeg" alt="Spalted Maple" />
        <figcaption>Spalted Maple Bowls, 2024</figcaption>
      </figure>
      <figure data-tags="pottery" class="clickable" data-title="Nerikomi Breakfast Pottery Set, 2025" data-description="Breakfast set featuring nerikomi patterns, made in 2025. The process emphasizes layering and color contrast.">
        <img src="images/potteryset.jpeg" alt="Pottery Set" />
        <figcaption>Nerikomi Breakfast Pottery Set, 2025</figcaption>
      </figure>
    </div>
  </main>

  <!-- Modal -->
  <div class="modal" id="projectModal">
    <div class="modal-content">
      <div class="modal-left">
        <button class="modal-close">&times;</button>
        <h2 id="modal-title"></h2>
        <p id="modal-description"></p>
      </div>
      <div class="modal-right">
        <div class="images"></div>
      </div>
    </div>
  </div>

  <footer>© mmmichele</footer>

  <!-- JS -->
  <script defer>
    window.addEventListener("DOMContentLoaded", () => {
      // Floating nav animation
      document.querySelectorAll(".floating-nav a").forEach(link => {
        gsap.to(link, {
          y: () => gsap.utils.random(-5, 5),
          x: () => gsap.utils.random(-3, 3),
          rotation: () => gsap.utils.random(-1, 1),
          duration: () => gsap.utils.random(2, 4),
          repeat: -1,
          yoyo: true,
          ease: "sine.inOut"
        });
      });

      // Filtering
      const filterButtons = document.querySelectorAll('.filter-btn');
      const galleryItems = document.querySelectorAll('.gallery figure');

      filterButtons.forEach(button => {
        button.addEventListener('click', () => {
          filterButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          const filter = button.dataset.filter;

          galleryItems.forEach(item => {
            const tags = item.dataset.tags.split(',').map(t => t.trim());
            item.style.display = (filter === 'all' || tags.includes(filter)) ? '' : 'none';
          });
        });
      });

      // Modal functionality
      const modal = document.getElementById('projectModal');
      const modalTitle = document.getElementById('modal-title');
      const modalDescription = document.getElementById('modal-description');
      const modalImages = modal.querySelector('.images');
      const modalClose = modal.querySelector('.modal-close');

      document.querySelectorAll('.gallery figure.clickable').forEach(fig => {
        fig.addEventListener('click', () => {
          modal.style.display = 'flex';
          modalTitle.textContent = fig.dataset.title;
          modalDescription.textContent = fig.dataset.description;

          // clear previous images
          modalImages.innerHTML = '';
          // add main image
          const mainImg = document.createElement('img');
          mainImg.src = fig.querySelector('img').src;
          modalImages.appendChild(mainImg);
          // if you want additional images, add them here per project
        });
      });

      modalClose.addEventListener('click', () => {
        modal.style.display = 'none';
      });

      modal.addEventListener('click', e => {
        if(e.target === modal) modal.style.display = 'none';
      });
    });
  </script>
</body>
</html>
